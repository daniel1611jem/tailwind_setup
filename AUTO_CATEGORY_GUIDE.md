# ðŸŽ¯ HÆ°á»›ng Dáº«n TÃ­nh NÄƒng Tá»± Äá»™ng Táº¡o Danh Má»¥c & LÆ°u Kho

## ðŸ“‹ Tá»•ng Quan

Há»‡ thá»‘ng Ä‘Ã£ Ä‘Æ°á»£c cáº­p nháº­t vá»›i cÃ¡c tÃ­nh nÄƒng tá»± Ä‘á»™ng hÃ³a máº¡nh máº½:

### âœ¨ TÃ­nh NÄƒng Má»›i

1. **3 Cá»™t Cá»‘ Äá»‹nh Má»›i:**

   - ðŸ“§ **Gmail CÃ¡ NhÃ¢n**: Email cÃ¡ nhÃ¢n cá»§a ngÆ°á»i dÃ¹ng
   - ðŸŽ“ **Gmail Sinh ViÃªn**: Email sinh viÃªn (dÃ¹ng lÃ m máº·c Ä‘á»‹nh)
   - ðŸ”‘ **Máº­t Kháº©u Chung**: Máº­t kháº©u chung cÃ³ thá»ƒ chá»‰nh sá»­a

2. **Tá»± Äá»™ng Sinh TÃ i Khoáº£n:**

   - Khi cá»™t select Ä‘Æ°á»£c chá»n giÃ¡ trá»‹, tá»± Ä‘á»™ng táº¡o username vÃ  accountName
   - Náº¿u khÃ´ng cÃ³ giÃ¡ trá»‹ select, sá»­ dá»¥ng Gmail sinh viÃªn lÃ m máº·c Ä‘á»‹nh
   - Máº­t kháº©u sá»­ dá»¥ng "Máº­t kháº©u chung" vÃ  cÃ³ thá»ƒ thay Ä‘á»•i

3. **Tá»± Äá»™ng Táº¡o Danh Má»¥c trong Kho:**

   - Má»—i cá»™t select cÃ³ thá»ƒ tá»± Ä‘á»™ng táº¡o danh má»¥c tÆ°Æ¡ng á»©ng
   - Danh má»¥c Ä‘Æ°á»£c táº¡o vá»›i type='key' Ä‘á»ƒ quáº£n lÃ½

4. **Tá»± Äá»™ng LÆ°u vÃ o Kho Khi ThÃ nh CÃ´ng:**
   - Khi giÃ¡ trá»‹ cá»™t select = giÃ¡ trá»‹ "thÃ nh cÃ´ng" Ä‘Ã£ cáº¥u hÃ¬nh
   - Tá»± Ä‘á»™ng táº¡o Key entry vá»›i thá»i háº¡n
   - LÆ°u vÃ o danh má»¥c tÆ°Æ¡ng á»©ng

---

## ðŸš€ CÃ¡ch Sá»­ Dá»¥ng

### BÆ°á»›c 1: Thiáº¿t Láº­p Cá»™t Select vá»›i Auto Category

1. VÃ o **Quáº£n LÃ½ Cá»™t**
2. Táº¡o hoáº·c sá»­a cá»™t cÃ³ type = **Select**
3. Nháº­p cÃ¡c options (má»—i dÃ²ng 1 option)
4. âœ… **Báº­t checkbox**: "ðŸŽ¯ Tá»± Ä‘á»™ng táº¡o danh má»¥c trong kho & lÆ°u khi thÃ nh cÃ´ng"
5. Cáº¥u hÃ¬nh:
   - **GiÃ¡ trá»‹ thÃ nh cÃ´ng**: Nháº­p giÃ¡ trá»‹ khi coi nhÆ° "thÃ nh cÃ´ng" (vd: "ThÃ nh cÃ´ng", "Done", "Active")
   - **Thá»i háº¡n (ngÃ y)**: Sá»‘ ngÃ y Æ°u Ä‘Ã£i cÃ³ hiá»‡u lá»±c (máº·c Ä‘á»‹nh: 30)
6. LÆ°u cá»™t

**VÃ­ dá»¥ cáº¥u hÃ¬nh:**

```
TÃªn cá»™t: Spotify Premium
Options:
  - ChÆ°a Ä‘Äƒng kÃ½
  - Äang xá»­ lÃ½
  - ThÃ nh cÃ´ng
  - Tháº¥t báº¡i

GiÃ¡ trá»‹ thÃ nh cÃ´ng: ThÃ nh cÃ´ng
Thá»i háº¡n: 30 ngÃ y
```

### BÆ°á»›c 2: Nháº­p ThÃ´ng Tin Gmail

Trong báº£ng Account List:

1. Nháº­p **Gmail CÃ¡ NhÃ¢n** vÃ o cá»™t mÃ u vÃ ng
2. Nháº­p **Gmail Sinh ViÃªn** vÃ o cá»™t mÃ u xanh (báº¯t buá»™c náº¿u muá»‘n auto generate)
3. Nháº­p **Máº­t Kháº©u Chung** vÃ o cá»™t mÃ u xanh lÃ¡

### BÆ°á»›c 3: Chá»n Tráº¡ng ThÃ¡i

Khi báº¡n chá»n giÃ¡ trá»‹ trong cá»™t select:

- âš¡ Há»‡ thá»‘ng tá»± Ä‘á»™ng sinh:
  - **Username**: Láº¥y tá»« Gmail sinh viÃªn
  - **Account Name**: Pháº§n trÆ°á»›c @ cá»§a Gmail sinh viÃªn
  - **Password**: Láº¥y tá»« Máº­t kháº©u chung

### BÆ°á»›c 4: ÄÃ¡nh Dáº¥u ThÃ nh CÃ´ng

Khi chuyá»ƒn giÃ¡ trá»‹ select sang "ThÃ nh cÃ´ng" (hoáº·c giÃ¡ trá»‹ báº¡n Ä‘Ã£ cáº¥u hÃ¬nh):

- ðŸŽ‰ **Tá»± Ä‘á»™ng táº¡o Key** trong kho vá»›i:
  - Category: Danh má»¥c tÆ°Æ¡ng á»©ng vá»›i tÃªn cá»™t
  - Username: Tá»« Gmail sinh viÃªn
  - Password: Tá»« Máº­t kháº©u chung
  - Expiration Date: TÃ­nh tá»« ngÃ y hiá»‡n táº¡i + thá»i háº¡n
  - Status: in_stock
  - Notes: Ghi chÃº tá»± Ä‘á»™ng vá» nguá»“n gá»‘c

---

## ðŸ“Š Cáº¥u TrÃºc Dá»¯ Liá»‡u

### Account Model (Backend)

```javascript
{
  personalGmail: String,      // Email cÃ¡ nhÃ¢n
  studentGmail: String,        // Email sinh viÃªn (dÃ¹ng lÃ m username)
  commonPassword: String,      // Máº­t kháº©u chung
  generatedAccounts: Map,      // LÆ°u cÃ¡c tÃ i khoáº£n Ä‘Ã£ sinh
  expirationDates: Map,        // LÆ°u ngÃ y háº¿t háº¡n
  customFields: Map            // CÃ¡c cá»™t tÃ¹y chá»‰nh
}
```

### ColumnConfig Model (Backend)

```javascript
{
  autoGenerateCategory: Boolean,  // CÃ³ tá»± sinh danh má»¥c khÃ´ng
  categoryId: ObjectId,           // ID danh má»¥c Ä‘Ã£ táº¡o
  successValue: String,           // GiÃ¡ trá»‹ thÃ nh cÃ´ng
  durationDays: Number            // Thá»i háº¡n (ngÃ y)
}
```

### Key Model (Backend)

```javascript
{
  keyCode: String,           // MÃ£ key tá»± Ä‘á»™ng
  categoryId: ObjectId,      // Danh má»¥c
  username: String,          // Username tá»« Gmail sinh viÃªn
  password: String,          // Password tá»« Máº­t kháº©u chung
  expirationDate: Date,      // NgÃ y háº¿t háº¡n
  duration: Number,          // Sá»‘ ngÃ y
  status: 'in_stock',        // Tráº¡ng thÃ¡i
  notes: String              // Ghi chÃº tá»± Ä‘á»™ng
}
```

---

## ðŸ”„ Quy TrÃ¬nh Tá»± Äá»™ng

```
1. User táº¡o cá»™t Select vá»›i autoGenerateCategory = true
   â†“
2. Há»‡ thá»‘ng tá»± táº¡o Category trong kho
   â†“
3. User nháº­p Gmail sinh viÃªn + Máº­t kháº©u chung
   â†“
4. User chá»n giÃ¡ trá»‹ trong cá»™t Select
   â†“
5. Há»‡ thá»‘ng tá»± sinh Username & Account Name
   â†“
6. User chuyá»ƒn sang giÃ¡ trá»‹ "ThÃ nh cÃ´ng"
   â†“
7. Há»‡ thá»‘ng tá»± Ä‘á»™ng:
   - TÃ­nh ngÃ y háº¿t háº¡n
   - Táº¡o Key entry
   - LÆ°u vÃ o Category tÆ°Æ¡ng á»©ng
   - ÄÃ¡nh dáº¥u status = in_stock
```

---

## ðŸ’¡ Tips & Best Practices

### 1. Äáº·t TÃªn Cá»™t RÃµ RÃ ng

- âœ… Tá»‘t: "Spotify Premium", "Netflix 4K", "YouTube Premium"
- âŒ TrÃ¡nh: "Col1", "Dá»‹ch vá»¥", "Æ¯u Ä‘Ã£i"

### 2. GiÃ¡ Trá»‹ ThÃ nh CÃ´ng Nháº¥t QuÃ¡n

- NÃªn dÃ¹ng: "ThÃ nh cÃ´ng", "Active", "Done"
- TrÃ¡nh: Nhiá»u giÃ¡ trá»‹ khÃ¡c nhau cho má»—i cá»™t

### 3. Thá»i Háº¡n Há»£p LÃ½

- Há»c sinh/sinh viÃªn: 30-180 ngÃ y
- DÃ¹ng thá»­: 7-30 ngÃ y
- VIP dÃ i háº¡n: 365 ngÃ y

### 4. Quáº£n LÃ½ Gmail Sinh ViÃªn

- LuÃ´n nháº­p Ä‘áº§y Ä‘á»§ Gmail sinh viÃªn trÆ°á»›c khi chá»n dá»‹ch vá»¥
- Kiá»ƒm tra email há»£p lá»‡ trÆ°á»›c khi lÆ°u

### 5. Kiá»ƒm Tra Kho ThÆ°á»ng XuyÃªn

- VÃ o "Quáº£n LÃ½ Kho" Ä‘á»ƒ xem cÃ¡c Key Ä‘Ã£ táº¡o
- Kiá»ƒm tra expiration date
- Filter theo Category Ä‘á»ƒ dá»… quáº£n lÃ½

---

## âš ï¸ LÆ°u Ã Quan Trá»ng

1. **Backup Dá»¯ Liá»‡u**: LuÃ´n backup database trÆ°á»›c khi sá»­ dá»¥ng tÃ­nh nÄƒng má»›i
2. **Kiá»ƒm Tra Category**: Danh má»¥c sáº½ tá»± Ä‘á»™ng táº¡o 1 láº§n duy nháº¥t khi táº¡o cá»™t
3. **Thay Äá»•i Cá»™t**: Náº¿u sá»­a cá»™t sau khi Ä‘Ã£ táº¡o, categoryId váº«n giá»¯ nguyÃªn
4. **XÃ³a Cá»™t**: XÃ³a cá»™t KHÃ”NG tá»± Ä‘á»™ng xÃ³a Category vÃ  Keys Ä‘Ã£ táº¡o
5. **Multiple Users**: Má»—i user cÃ³ thá»ƒ cÃ³ category riÃªng vá»›i cÃ¹ng tÃªn

---

## ðŸ› Troubleshooting

### Key khÃ´ng Ä‘Æ°á»£c táº¡o tá»± Ä‘á»™ng?

- Kiá»ƒm tra Gmail sinh viÃªn Ä‘Ã£ nháº­p chÆ°a
- Kiá»ƒm tra giÃ¡ trá»‹ "ThÃ nh cÃ´ng" cÃ³ khá»›p vá»›i cáº¥u hÃ¬nh khÃ´ng
- Xem Console log Ä‘á»ƒ debug

### Category khÃ´ng xuáº¥t hiá»‡n trong kho?

- Refresh trang
- Kiá»ƒm tra checkbox "Tá»± Ä‘á»™ng táº¡o danh má»¥c" Ä‘Ã£ báº­t chÆ°a
- Kiá»ƒm tra userId cÃ³ há»£p lá»‡ khÃ´ng

### Thá»i háº¡n sai?

- Kiá»ƒm tra cáº¥u hÃ¬nh "Thá»i háº¡n (ngÃ y)"
- Máº·c Ä‘á»‹nh lÃ  30 ngÃ y náº¿u khÃ´ng set

---

## ðŸ“ Changelog

### v1.0.0 - 2024

- âœ… ThÃªm 3 cá»™t cá»‘ Ä‘á»‹nh: Gmail cÃ¡ nhÃ¢n, Gmail sinh viÃªn, Máº­t kháº©u chung
- âœ… Tá»± Ä‘á»™ng sinh username/account name tá»« Gmail sinh viÃªn
- âœ… Tá»± Ä‘á»™ng táº¡o Category khi táº¡o cá»™t Select
- âœ… Tá»± Ä‘á»™ng lÆ°u Key vÃ o kho khi thÃ nh cÃ´ng
- âœ… UI cáº£i thiá»‡n vá»›i mÃ u sáº¯c phÃ¢n biá»‡t cá»™t
- âœ… Form quáº£n lÃ½ cá»™t cÃ³ thÃªm cáº¥u hÃ¬nh auto category

---

## ðŸŽ“ VÃ­ Dá»¥ Thá»±c Táº¿

### Ká»‹ch Báº£n: Quáº£n LÃ½ Spotify Premium cho Sinh ViÃªn

**BÆ°á»›c 1: Táº¡o Cá»™t**

```
TÃªn cá»™t: Spotify Premium
Type: Select
Options:
  - ChÆ°a Ä‘Äƒng kÃ½
  - Äang chá» verify
  - ThÃ nh cÃ´ng
  - ÄÃ£ háº¿t háº¡n

âœ… Tá»± Ä‘á»™ng táº¡o danh má»¥c
GiÃ¡ trá»‹ thÃ nh cÃ´ng: ThÃ nh cÃ´ng
Thá»i háº¡n: 180 ngÃ y
```

**BÆ°á»›c 2: Nháº­p Profile Sinh ViÃªn**

```
Gmail cÃ¡ nhÃ¢n: nguyenvana@gmail.com
Gmail sinh viÃªn: nguyenvana@student.hcmute.edu.vn
Máº­t kháº©u chung: MatKhau@123
```

**BÆ°á»›c 3: ÄÄƒng KÃ½ Dá»‹ch Vá»¥**

- Chá»n: "Äang chá» verify"
- Há»‡ thá»‘ng tá»± sinh:
  - Username: nguyenvana@student.hcmute.edu.vn
  - Account Name: nguyenvana

**BÆ°á»›c 4: XÃ¡c Nháº­n ThÃ nh CÃ´ng**

- Chá»n: "ThÃ nh cÃ´ng"
- Há»‡ thá»‘ng tá»± Ä‘á»™ng:
  - Táº¡o Key: `nguyenvana_spotify_premium_1701234567890`
  - Category: "Spotify Premium"
  - Expiration: 180 ngÃ y tá»« hÃ´m nay
  - Status: in_stock
  - LÆ°u vÃ o kho

**Káº¿t Quáº£:**

- Profile Ä‘Æ°á»£c Ä‘Ã¡nh dáº¥u thÃ nh cÃ´ng
- Key xuáº¥t hiá»‡n trong kho "Spotify Premium"
- CÃ³ thá»ƒ quáº£n lÃ½, bÃ¡n, hoáº·c extend key sau nÃ y

---

## ðŸ“ž Support

Náº¿u cÃ³ váº¥n Ä‘á», kiá»ƒm tra:

1. Console log (F12 -> Console)
2. Network tab Ä‘á»ƒ xem API calls
3. Database Ä‘á»ƒ kiá»ƒm tra dá»¯ liá»‡u thá»±c táº¿

---

**ChÃºc báº¡n quáº£n lÃ½ hiá»‡u quáº£! ðŸš€**
